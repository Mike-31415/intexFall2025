<!-- Group 2-11
 
Edit Post Surveys page: allows admin/managers to edit survey results.

-->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Edit Survey</title>
    <link rel="stylesheet" href="/styles.css">
</head>

<body>

    <%- include('partials/header') %>

    <div class="form-card">
        <h2>Edit Survey</h2>

        <% if (error_message) { %>
            <div class="error-message"><%= error_message %></div>
        <% } %>

        <form action="/postsurveys/edit/<%= survey.surveyid %>" method="POST">

            <!-- Event Name (readonly) -->
            <div class="form-row">
                <label>Event Name</label>
                <input type="text" value="<%= survey.eventname %>" readonly>
            </div>

            <!-- Event Date (readonly) -->
            <div class="form-row">
                <label>Event Date/Time</label>
                <input type="text" value="<%= survey.eventdatetimestart %>" readonly>
            </div>

            <!-- Participant Name (readonly) -->
            <div class="form-row">
                <label>Participant</label>
                <input type="text" value="<%= survey.participantname %>" readonly>
            </div>

            <!-- Scores -->
            <div class="form-row">
                <label for="satisfaction_score">Satisfaction Score (1-5)</label>
                <input 
                    type="number" 
                    id="satisfaction_score" 
                    name="satisfaction_score" 
                    min="1" max="5"
                    value="<%= survey.satisfaction %>"
                    required
                >
            </div>

            <div class="form-row">
                <label for="usefulness_score">Usefulness Score (1-5)</label>
                <input 
                    type="number" 
                    id="usefulness_score" 
                    name="usefulness_score" 
                    min="1" max="5"
                    value="<%= survey.usefulness %>"
                    required
                >
            </div>

            <div class="form-row">
                <label for="instructor_score">Instructor Score (1-5)</label>
                <input 
                    type="number" 
                    id="instructor_score" 
                    name="instructor_score" 
                    min="1" max="5"
                    value="<%= survey.instructor %>"
                    required
                >
            </div>

            <div class="form-row">
                <label for="recommendation_score">Recommendation Score (1-5)</label>
                <input 
                    type="number" 
                    id="recommendation_score" 
                    name="recommendation_score" 
                    min="1" max="5"
                    value="<%= survey.recommend %>"
                    required
                >
            </div>

            <div class="form-row">
                <label for="overall_score">Overall Score (1-5)</label>
                <input 
                    type="number" 
                    id="overall_score" 
                    name="overall_score" 
                    min="1" max="5"
                    value="<%= survey.overall %>"
                    required
                >
            </div>

            <!-- Comments -->
            <div class="form-row">
                <label for="comments">Comments</label>
                <textarea 
                    id="comments" 
                    name="comments"
                    rows="4"
                ><%= survey.comments %></textarea>
            </div>

            <!-- Buttons -->
            <div class="form-row" style="margin-top: 20px;">
                <button type="submit" class="btn btn-primary">Save Changes</button>
            </div>

            <div class="form-row" style="margin-top: 10px;">
                <a href="/postsurveys" class="btn btn-secondary">Cancel</a>
            </div>

        </form>
    </div>

</body>
</html>
